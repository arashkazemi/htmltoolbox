<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: HTMLToolbox</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: HTMLToolbox</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>HTMLToolbox<span class="signature">(input, config)</span><span class="type-signature"></span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="HTMLToolbox"><span class="type-signature"></span>new HTMLToolbox<span class="signature">(input, config)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Creates an instance of HTMLToolbox.
There can be multiple instances and each can be configured separately.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>input</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The input string containing the HTML document.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>(optional) The configuration, which is optional.
It can contain any of the list below:</p>
<p><code>separators</code>: a dictionary of defined tags and their rendered separators,
i.e. <code>&quot;</code> for <code>q</code> and <code>\n</code> for <code>div</code>. see the source code for more examples.</p>
<p><code>lineBreakTags</code>: a list of line break tags, it contains <code>br</code> and <code>hr</code>
by default.</p>
<p><code>noCloseTags</code>: these are the tags that don't contain children, like <code>img</code>
or <code>br</code>.</p>
<p><code>rawTags</code>: these are the tags that are not HTML encoded, like scripts.</p>
<p><code>defaultSeparator</code>: this is the default tag separator, which is a blank
space by default.</p>
<p><code>deleteEmpty</code>: if set, the empty elements in the remove or replace region
will be deleted completely. it is <code>true</code> by default.</p>
<p><code>convertNbspToSpace</code>: this is for the cases when you want to treat nbsp
entities as normal spaces. it is <code>false</code> by default.</p>
<p><code>processInputValues</code>: If set to false, input field values will not be rendered.
it is set to <code>true</code> by default which means input values will be rendered
as text.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line161">line 161</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="apply"><span class="type-signature"></span>apply<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>By default changes are applied only when it is necessary. <code>setTag</code> and
<code>setAttribute</code> are not applied until another loop is called or output is
needed. Normally there is no problem in this and everything is handled
automatically.</p>
<p>But in rare occasions, when you are setting tags and attributes outside a
loop and you want to change a node you have already changed, then you may
need to call this function manually. Keep in mind that it is the performance
bottleneck, so call it only when necessary.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1273">line 1273</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getHTML"><span class="type-signature"></span>getHTML<span class="signature">(indent)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Returns the resulting HTML document.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>indent</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                    	
                
                </td>
            

            <td class="description last"><p>(optional) The indentation unit. Enter an empty
string for a compressed HTML, or <code>null</code> for the initial indentation. The
default value is <code>\t</code>.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1520">line 1520</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getString"><span class="type-signature"></span>getString<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Returns the rendered string.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1507">line 1507</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="insert"><span class="type-signature"></span>insert<span class="signature">(what, insert_at)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Inserts HTML in a location relative to the search query match region.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>what</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>a string which will be parsed as HTML and inserted at
the requested location.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>insert_at</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>the relative position on insertion. If its value is set
to <code>HTMLToolbox.BEGIN</code> then the HTML will be inserted right before the match point
<code>start_node</code> at <code>start_offset</code>. If set to <code>HTMLToolbox.END</code> it will be inserted
right after the <code>end_node</code> at <code>end_offset</code>. Other values not supported.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1302">line 1302</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="printNodes"><span class="type-signature"></span>printNodes<span class="signature">(nodes)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p><strong>(For debugging only)</strong></p>
<p>Prints the current tree structure of the document.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>nodes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>(optional) a list of the nodes to printed.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1552">line 1552</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="printTraverse"><span class="type-signature"></span>printTraverse<span class="signature">(nodes)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p><strong>(For debugging only)</strong></p>
<p>Prints the current traversed structure of the document. This is different
from <code>printNodes</code>, as it doesn't reflect the tree structure, and reflects
the sequence the traverse is done. It only prints node <code>type</code>, <code>str_index</code>
and <code>value</code>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>nodes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>(optional) a list of the nodes to traverse.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1537">line 1537</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="remove"><span class="type-signature"></span>remove<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Removes the match.</p>
<pre><code>let doc = &quot;&lt;!DOCTYPE html&gt;this is tesss&lt;b&gt;&lt;b&gt;&lt;/b&gt;&lt;/b&gt;sssst!&lt;/div&gt;&quot;;
let htb = new HTMLToolbox(doc);

for(const val of htb.search(/te(s+)t/gm)) {
	htb.remove();
}

console.log(htb.getHTML(null));
</code></pre>
<p>and the result would be:</p>
<pre><code>&lt;!DOCTYPE html&gt;this is!
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1327">line 1327</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeAll"><span class="type-signature"></span>removeAll<span class="signature">(query)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>A helper function to simplify removing all occurrences without implementing a loop.</p>
<p>For more details on the search query see <a href="HTMLToolbox.html#search">HTMLToolbox#search</a></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>a string or regexp to search for in the rendered text of the
document. If not provided, search will traverse over all the document.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1478">line 1478</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="replace"><span class="type-signature"></span>replace<span class="signature">(replace_with, replace_at)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Replaces the match with an HTML string.</p>
<pre><code>let doc = &quot;&lt;!DOCTYPE html&gt;this is a tesss&lt;b&gt;&lt;b&gt;&lt;/b&gt;&lt;/b&gt;sssst!&lt;/div&gt;&quot;;
let htb = new HTMLToolbox(doc);

for(const val of htb.search(/te(s+)t/gm)) {
	htb.replace(&quot;&lt;div&gt;experiment&lt;/div&gt;&quot;);
}

console.log(htb.getHTML(null));
</code></pre>
<p>and the result would be:</p>
<pre><code>&lt;!DOCTYPE html&gt;this is a &lt;div&gt;experiment&lt;/div&gt;!
</code></pre>
<p>Note that you can access the match data using the given value:</p>
<pre><code>let doc = &quot;&lt;div&gt;1 and 2 and 3 and 4&lt;/div&gt;&quot;;
let htb = new HTMLToolbox(doc);

for(const val of htb.search(/(\d) and/gm)) {
	const m = val.match;
	htb.replace(`${m[1]} or`);
}

console.log(htb.getHTML(null));
</code></pre>
<p>and the result would be:</p>
<pre><code>&lt;!DOCTYPE html&gt;&lt;div&gt;1 or 2 or 3 or 4&lt;/div&gt;
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>replace_with</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>the new HTML string to be used as the replacement.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>replace_at</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>the relative position of replacement. If its value is set to
<code>HTMLToolbox.BEGIN</code> then the HTML will be inserted right before the match point
<code>start_node</code> at <code>start_offset</code>. If set to <code>HTMLToolbox.END</code> it will be
inserted right after the <code>end_node</code> at <code>end_offset</code>. Other values not supported.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1376">line 1376</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="replaceAll"><span class="type-signature"></span>replaceAll<span class="signature">(query, replace_with, replace_at)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>A helper function to simplify replacing all occurrences without implementing a loop.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>a string or regexp to search for in the rendered text of the
document. If not provided, search will traverse over all the document.</p>
<p>For more details on the search query see <a href="HTMLToolbox.html#search">HTMLToolbox#search</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>replace_with</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>the new HTML string to be used as the replacement.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>replace_at</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>the relative position of replacement. If its value is set to
<code>HTMLToolbox.BEGIN</code> then the HTML will be inserted right before the match point
<code>start_node</code> at <code>start_offset</code>. If set to <code>HTMLToolbox.END</code> it will be
inserted right after the <code>end_node</code> at <code>end_offset</code>. Other values not supported.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1463">line 1463</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="search"><span class="type-signature">(generator) </span>search<span class="signature">(query)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Searches for the given query and the results are yielded in a generator.
You may process them in a loop, or by consecutive calls to .next() function.</p>
<pre><code>let htb = new HTMLToolbox(doc);

for(const val of htb.search(/te(s+)t/gm)) {
	htb.remove();
}
</code></pre>
<p>Inside the loop block you may call one of the modifier functions, which
include <code>remove</code>, <code>insert</code>, <code>replace</code>, <code>wrap</code>, and <code>setTag</code> and <code>setAttribute</code>. The
first 4 ones are all applied to the whole match, but <code>setTag</code> and
<code>setAttribute</code> are applied to specific nodes. See each function documentation
for more details.</p>
<p>The object that is returned by the generator has the following members:</p>
<p><code>match</code>: {index, 0, 1, ...} which is similar to js regex match results, <code>index</code>
is the location of the match in the rendered text, and the rest is an array.</p>
<p><code>start_node</code>: is the node of the tree that contains the beginning of the
match.</p>
<p><code>end_node</code>: is the node that contains the end of the match.</p>
<p><code>start_offset</code>: is the index of the character in the start node value which is the
beginning of the match.</p>
<p><code>end_offset</code>: is the index of the last character of the match in the end node.</p>
<h3>Nodes</h3>
<p>Each node has properties like attributes, name, rawName and type. The type may
be <code>Tag</code>, <code>Text</code> and <code>Sep</code>. Text nodes are the leaves of the HTML tree. The Sep
nodes are rendered separators. They are not modifiable. If you need a different
separator for a specific tag, change the <code>separators</code> dictionary of the HTMLToolbox
instance you are working with.</p>
<p>Each node also has a <code>body</code> that contains the separators and its children. It
also has a <code>next</code> and <code>prev</code> which point the next and previous <strong>rendered</strong> nodes.
You may also want to use its <code>parent</code> to go up in the hierarchy.</p>
<p>Note that on some occasions both nodes might be the same.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>a string or regexp to search for in the rendered text of the
document. If not provided, search will traverse over all the document.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1201">line 1201</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setAttribute"><span class="type-signature"></span>setAttribute<span class="signature">(node, attr, value)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Changes the attribute value of the given node to the new one.</p>
<p>For more details on the nodes structure see <a href="HTMLToolbox.html#search">HTMLToolbox#search</a></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>node</code></td>
            

            <td class="type">
            
                
<span class="param-type">node</span>


            
            </td>

            

            

            <td class="description last"><p>the target node, you can find it from the query match.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attr</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>the target attribute.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>the new value.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1442">line 1442</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setTag"><span class="type-signature"></span>setTag<span class="signature">(node, tag)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Changes the tag of the given node to the new one.</p>
<p>For more details on the nodes structure see <a href="HTMLToolbox.html#search">HTMLToolbox#search</a></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>node</code></td>
            

            <td class="type">
            
                
<span class="param-type">node</span>


            
            </td>

            

            

            <td class="description last"><p>the target node, you can find it from the query match.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tag</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>the new tag.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1428">line 1428</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="wrap"><span class="type-signature"></span>wrap<span class="signature">(envelope)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Wraps the match inside an HTML string. Any HTML can be used as the envelope
the placement of the match is given using a &lt;!/&gt; and it will be replaced by
the match.</p>
<p>Note that at the moment the leaves of the tree will be wrapped. And
neighbor nodes will be wrapped separately.</p>
<p>Also &lt;!/&gt; must be a valid HTML node, for example it can't be inside the tag
definition.</p>
<pre><code>let doc = &quot;&lt;div&gt;1 and 2 and 3 and 4&lt;/div&gt;&quot;;
let htb = new HTMLToolbox(doc);

for(const val of htb.search(/\d/gm)) {
	htb.wrap(`&lt;span&gt;Number &lt;!/&gt;&lt;/span&gt;`);
}

console.log(htb.getHTML(null));
</code></pre>
<p>and the result would be:</p>
<pre><code>&lt;div&gt;&lt;span&gt;Number 1&lt;/span&gt; and &lt;span&gt;Number  2&lt;/span&gt; and &lt;span&gt;Number  3&lt;/span&gt; and &lt;span&gt;Number  4&lt;/span&gt;&lt;/div&gt;
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>envelope</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>the HTML string to wrap the query match.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1411">line 1411</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="wrapAll"><span class="type-signature"></span>wrapAll<span class="signature">(query, envelope)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>A helper function to simplify wrapping all occurrences without implementing a loop.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>a string or regexp to search for in the rendered text of the
document. If not provided, search will traverse over all the document.</p>
<p>For more details on the search query see <a href="HTMLToolbox.html#search">HTMLToolbox#search</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>envelope</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>the HTML string to wrap the query match.</p>
<p>For more details on the envelope see <a href="HTMLToolbox.html#wrap">HTMLToolbox#wrap</a></p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="htmltoolbox.js.html">htmltoolbox.js</a>, <a href="htmltoolbox.js.html#line1497">line 1497</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="HTMLToolbox.html">HTMLToolbox</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>